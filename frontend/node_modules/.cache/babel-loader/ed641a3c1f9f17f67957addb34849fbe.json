{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Simon Kinet\\\\Documents\\\\GitHub\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Simon Kinet\\\\Documents\\\\GitHub\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Simon Kinet\\\\Documents\\\\GitHub\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Simon Kinet\\\\Documents\\\\GitHub\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import'../../App.css';import React,{Component}from\"react\";import{Link}from'react-router-dom';var SignIn=/*#__PURE__*/function(_Component){_inherits(SignIn,_Component);var _super=_createSuper(SignIn);function SignIn(){var _this;_classCallCheck(this,SignIn);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={credentials:{username:'',password:''},token:\"\"};_this.login=function(event){fetch('http://127.0.0.1:8000/auth/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(_this.state.credentials)}).then(function(data){return data.json();}).then(function(data){_this.setState({token:data.token});_this.props.onToken(data.token);}).catch(function(error){return console.error(error);});};_this.inputChanged=function(event){var cred=_this.state.credentials;cred[event.target.name]=event.target.value;_this.setState({credentials:cred});};return _this;}_createClass(SignIn,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"sign-in\"},/*#__PURE__*/React.createElement(\"label\",null,\"Username:\",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"username\",className:\"form-control\",value:this.state.credentials.username,onChange:this.inputChanged})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,\"Password:\",/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",className:\"form-control\",value:this.state.credentials.password,onChange:this.inputChanged})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{className:\"form-control\",onClick:this.login},\"Login\"),/*#__PURE__*/React.createElement(Link,{to:\"/sign-up\"},/*#__PURE__*/React.createElement(\"button\",{className:\"form-control\"},\"Register\")));}}]);return SignIn;}(Component);export default SignIn;","map":{"version":3,"sources":["C:/Users/Simon Kinet/Documents/GitHub/Azakana/frontend/src/components/pages/SignIn.js"],"names":["React","Component","Link","SignIn","state","credentials","username","password","token","login","event","fetch","method","headers","body","JSON","stringify","then","data","json","setState","props","onToken","catch","error","console","inputChanged","cred","target","name","value"],"mappings":"gtBAAA,MAAO,eAAP,CACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,KAAqB,kBAArB,C,GAEMC,CAAAA,M,2TACJC,K,CAAQ,CACNC,WAAW,CAAE,CAACC,QAAQ,CAAE,EAAX,CAAeC,QAAQ,CAAE,EAAzB,CADP,CAENC,KAAK,CAAE,EAFD,C,OAORC,K,CAAQ,SAAAC,KAAK,CAAI,CACfC,KAAK,CAAC,6BAAD,CAAgC,CACnCC,MAAM,CAAE,MAD2B,CAEnCC,OAAO,CAAE,CAAC,eAAgB,kBAAjB,CAF0B,CAGnCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,MAAKZ,KAAL,CAAWC,WAA1B,CAH6B,CAAhC,CAAL,CAKCY,IALD,CAKO,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,IAAL,EAAJ,EALX,EAMCF,IAND,CAOE,SAAAC,IAAI,CAAI,CACN,MAAKE,QAAL,CAAc,CAACZ,KAAK,CAAEU,IAAI,CAACV,KAAb,CAAd,EACA,MAAKa,KAAL,CAAWC,OAAX,CAAmBJ,IAAI,CAACV,KAAxB,EACD,CAVH,EAYCe,KAZD,CAYQ,SAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd,CAAJ,EAZb,EAaD,C,OACDE,Y,CAAe,SAAAhB,KAAK,CAAI,CACtB,GAAMiB,CAAAA,IAAI,CAAG,MAAKvB,KAAL,CAAWC,WAAxB,CACAsB,IAAI,CAACjB,KAAK,CAACkB,MAAN,CAAaC,IAAd,CAAJ,CAA0BnB,KAAK,CAACkB,MAAN,CAAaE,KAAvC,CACA,MAAKV,QAAL,CAAc,CAACf,WAAW,CAAEsB,IAAd,CAAd,EACD,C,wDAED,iBAAQ,CAER,mBACE,2BAAK,SAAS,CAAC,SAAf,eACE,0DAEI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,UAAxB,CAAmC,SAAS,CAAC,cAA7C,CACC,KAAK,CAAE,KAAKvB,KAAL,CAAWC,WAAX,CAAuBC,QAD/B,CAEC,QAAQ,CAAE,KAAKoB,YAFhB,EAFJ,CADF,cAOI,8BAPJ,cAQI,0DAEE,6BAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,UAA5B,CAAuC,SAAS,CAAC,cAAjD,CACC,KAAK,CAAE,KAAKtB,KAAL,CAAWC,WAAX,CAAuBE,QAD/B,CAEC,QAAQ,CAAE,KAAKmB,YAFhB,EAFF,CARJ,cAcI,8BAdJ,cAeI,8BAAQ,SAAS,CAAC,cAAlB,CAAiC,OAAO,CAAE,KAAKjB,KAA/C,UAfJ,cAiBI,oBAAC,IAAD,EACQ,EAAE,CAAC,UADX,eAGQ,8BAAQ,SAAS,CAAC,cAAlB,aAHR,CAjBJ,CADF,CA0BC,C,oBAzDkBR,S,EA2DrB,cAAeE,CAAAA,MAAf","sourcesContent":["import '../../App.css';\r\nimport React, { Component} from \"react\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass SignIn extends Component {\r\n  state = {\r\n    credentials: {username: '', password: ''},\r\n    token: \"\"\r\n  }\r\n\r\n  \r\n\r\n  login = event => {\r\n    fetch('http://127.0.0.1:8000/auth/', {\r\n      method: 'POST',\r\n      headers: {'Content-Type': 'application/json'},\r\n      body: JSON.stringify(this.state.credentials)\r\n    })\r\n    .then( data => data.json())\r\n    .then(\r\n      data => {\r\n        this.setState({token: data.token});\r\n        this.props.onToken(data.token);\r\n      }\r\n    )\r\n    .catch( error => console.error(error))\r\n  }\r\n  inputChanged = event => {\r\n    const cred = this.state.credentials;\r\n    cred[event.target.name] = event.target.value;\r\n    this.setState({credentials: cred});\r\n  }\r\n\r\n  render(){\r\n    \r\n  return (\r\n    <div className=\"sign-in\">\r\n      <label>\r\n          Username:\r\n          <input type=\"text\" name=\"username\" className=\"form-control\"\r\n           value={this.state.credentials.username}\r\n           onChange={this.inputChanged} />\r\n        </label>\r\n        <br/>\r\n        <label>\r\n          Password:\r\n          <input type=\"password\" name=\"password\" className=\"form-control\"\r\n           value={this.state.credentials.password}\r\n           onChange={this.inputChanged} />\r\n        </label>\r\n        <br/>\r\n        <button className=\"form-control\" onClick={this.login}>Login</button>\r\n        \r\n        <Link\r\n                to='/sign-up'\r\n          >\r\n                <button className=\"form-control\" >Register</button>\r\n              </Link>\r\n        \r\n    </div>\r\n  );\r\n  }\r\n}\r\nexport default SignIn;"]},"metadata":{},"sourceType":"module"}