{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Christopher\\\\Desktop\\\\Projets\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Christopher\\\\Desktop\\\\Projets\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Christopher\\\\Desktop\\\\Projets\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Christopher\\\\Desktop\\\\Projets\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import\"./Add_team.css\";import React,{Component}from'react';import{Link}from'react-router-dom';import Footer from\"../Footer/Footer\";import axios from'axios';import Cookies from'js-cookie';var csrf_token=\"\";var pseudo=Cookies.get('Pseudo');var user_id=0;var BASE_URL='http://azakana.fr';var Add_team=/*#__PURE__*/function(_Component){_inherits(Add_team,_Component);var _super=_createSuper(Add_team);function Add_team(){_classCallCheck(this,Add_team);return _super.apply(this,arguments);}_createClass(Add_team,[{key:\"componentDidMount\",value:function componentDidMount(){axios.get(BASE_URL+\"/api/csrf_token/\").then(function(res){csrf_token=res.data;});axios.get(BASE_URL+\"/api/users/\"+pseudo).then(function(res){var data=res.data;user_id=data.id;});}},{key:\"createTeam\",value:function createTeam(){var data=new FormData();data.append(\"name\",document.getElementById('team_name').value);data.append(\"user_id\",user_id);data.append(\"csrfmiddlewaretoken\",csrf_token);axios.post(BASE_URL+\"/api/create_team/\",data).then(function(res){if(res.data){window.location='/team';}}).catch(function(errors){return console.log(errors);});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"team\"},/*#__PURE__*/React.createElement(\"div\",{className:\"login\"},/*#__PURE__*/React.createElement(\"label\",{className:\"label-form\"},\"Nom de l'\\xE9quipe\",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"team_name\",className:\"input-form\",id:\"team_name\"})),/*#__PURE__*/React.createElement(\"span\",{id:\"error\"}),/*#__PURE__*/React.createElement(\"button\",{className:\"btn-team\",onClick:this.createTeam},\"Cr\\xE9er une \\xE9quipe\"),/*#__PURE__*/React.createElement(Link,{to:\"Join_team\",className:\"btn-toggle\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn-team\",to:\"/Join_team\"},\"Rejoindre une \\xE9quipe existante\")))),/*#__PURE__*/React.createElement(Footer,null));}}]);return Add_team;}(Component);export{Add_team as default};","map":{"version":3,"sources":["C:/Users/Christopher/Desktop/Projets/Azakana/frontend/src/components/Team/Add_team.js"],"names":["React","Component","Link","Footer","axios","Cookies","csrf_token","pseudo","get","user_id","BASE_URL","Add_team","then","res","data","id","FormData","append","document","getElementById","value","post","window","location","catch","errors","console","log","createTeam"],"mappings":"4sBACA,MAAO,gBAAP,CACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,GAAIC,CAAAA,UAAU,CAAG,EAAjB,CACA,GAAIC,CAAAA,MAAM,CAAGF,OAAO,CAACG,GAAR,CAAY,QAAZ,CAAb,CACA,GAAIC,CAAAA,OAAO,CAAG,CAAd,CACA,GAAMC,CAAAA,QAAQ,CAAC,mBAAf,C,GACqBC,CAAAA,Q,kPAEjB,4BAAoB,CAChBP,KAAK,CAACI,GAAN,CAAUE,QAAQ,CAAC,kBAAnB,EACCE,IADD,CACM,SAAAC,GAAG,CAAG,CACRP,UAAU,CAAGO,GAAG,CAACC,IAAjB,CACH,CAHD,EAIAV,KAAK,CAACI,GAAN,CAAUE,QAAQ,CAAC,aAAT,CAAuBH,MAAjC,EACCK,IADD,CACM,SAAAC,GAAG,CAAI,CACT,GAAIC,CAAAA,IAAI,CAAGD,GAAG,CAACC,IAAf,CACAL,OAAO,CAAGK,IAAI,CAACC,EAAf,CACH,CAJD,EAKH,C,0BAED,qBAAa,CACT,GAAID,CAAAA,IAAI,CAAG,GAAIE,CAAAA,QAAJ,EAAX,CACAF,IAAI,CAACG,MAAL,CAAY,MAAZ,CAAoBC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAAzD,EACAN,IAAI,CAACG,MAAL,CAAY,SAAZ,CAAuBR,OAAvB,EACAK,IAAI,CAACG,MAAL,CAAY,qBAAZ,CAAmCX,UAAnC,EACAF,KAAK,CAACiB,IAAN,CAAWX,QAAQ,CAAC,mBAApB,CAAyCI,IAAzC,EACCF,IADD,CACM,SAAAC,GAAG,CAAI,CACT,GAAGA,GAAG,CAACC,IAAP,CAAY,CACRQ,MAAM,CAACC,QAAP,CAAiB,OAAjB,CACH,CACJ,CALD,EAMCC,KAND,CAMO,SAAAC,MAAM,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ,CAAJ,EANb,EAOH,C,sBACD,iBAAS,CACL,mBACI,qDACI,2BAAK,SAAS,CAAC,MAAf,eACI,2BAAK,SAAS,CAAC,OAAf,eACI,6BAAO,SAAS,CAAC,YAAjB,oCAEI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,WAAxB,CAAoC,SAAS,CAAC,YAA9C,CAA2D,EAAE,CAAC,WAA9D,EAFJ,CADJ,cAKI,4BAAM,EAAE,CAAC,OAAT,EALJ,cAMI,8BAAQ,SAAS,CAAC,UAAlB,CAA6B,OAAO,CAAE,KAAKG,UAA3C,2BANJ,cAQA,oBAAC,IAAD,EAAM,EAAE,CAAC,WAAT,CAAqB,SAAS,CAAC,YAA/B,eACI,8BAAQ,SAAS,CAAC,UAAlB,CAA6B,EAAE,CAAC,YAAhC,sCADJ,CARA,CADJ,CADJ,cAeI,oBAAC,MAAD,MAfJ,CADJ,CAmBH,C,sBA/CiC3B,S,SAAjBU,Q","sourcesContent":["\r\nimport \"./Add_team.css\";\r\nimport React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Footer from \"../Footer/Footer\";\r\nimport axios from 'axios';\r\nimport Cookies from 'js-cookie';\r\nlet csrf_token = \"\";\r\nlet pseudo = Cookies.get('Pseudo');\r\nlet user_id = 0;\r\nconst BASE_URL='http://azakana.fr'\r\nexport default class Add_team extends Component {\r\n\r\n    componentDidMount() {\r\n        axios.get(BASE_URL+\"/api/csrf_token/\")\r\n        .then(res =>{\r\n            csrf_token = res.data;\r\n        })\r\n        axios.get(BASE_URL+\"/api/users/\"+pseudo)\r\n        .then(res => {\r\n            let data = res.data;\r\n            user_id = data.id;\r\n        })\r\n    }\r\n\r\n    createTeam() {\r\n        let data = new FormData();\r\n        data.append(\"name\", document.getElementById('team_name').value);\r\n        data.append(\"user_id\", user_id);\r\n        data.append(\"csrfmiddlewaretoken\", csrf_token);\r\n        axios.post(BASE_URL+\"/api/create_team/\", data)\r\n        .then(res => {\r\n            if(res.data){\r\n                window.location ='/team';\r\n            }\r\n        })\r\n        .catch(errors => console.log(errors))\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n                <div className='team'>\r\n                    <div className='login'>\r\n                        <label className='label-form'>\r\n                            Nom de l'équipe\r\n                            <input type=\"text\" name=\"team_name\" className=\"input-form\" id='team_name'></input>\r\n                        </label>\r\n                        <span id='error'></span>\r\n                        <button className='btn-team' onClick={this.createTeam}>Créer une équipe</button>\r\n                    \r\n                    <Link to='Join_team' className='btn-toggle'>\r\n                        <button className='btn-team' to='/Join_team'>Rejoindre une équipe existante</button>\r\n                    </Link>\r\n                    </div>\r\n                </div>\r\n                <Footer/>\r\n            </>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}