{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Christopher\\\\Desktop\\\\Projets\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Christopher\\\\Desktop\\\\Projets\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Christopher\\\\Desktop\\\\Projets\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Christopher\\\\Desktop\\\\Projets\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import axios from'axios';import React,{useState,useEffect}from'react';import Footer from'../Footer/Footer';import'./Contact.css';var BASE_URL='http://azakana.fr/api/;';var csrf_token=\"\";var Contact=/*#__PURE__*/function(_React$Component){_inherits(Contact,_React$Component);var _super=_createSuper(Contact);function Contact(){var _this;_classCallCheck(this,Contact);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={credentials:{name:'',email:'',subject:''},alert:'',erreur:false};_this.inputChanged=function(event){var cred=_this.state.credentials;cred[event.target.name]=event.target.value;_this.setState({credentials:cred});};return _this;}_createClass(Contact,[{key:\"componentDidMount\",value:function componentDidMount(){axios.get(BASE_URL+\"csrf_token/\").then(function(res){csrf_token=res.data;});}},{key:\"sendMessage\",value:function sendMessage(){var data=new FormData();data.append(\"name\",document.getElementById('name').value);data.append(\"email\",document.getElementById('email').value);data.append(\"subject\",document.getElementById('subject').value);data.append(\"csrfmiddlewaretoken\",csrf_token);axios.post(BASE_URL+\"contact/\",data).then(function(res){if(res.data){window.location='/contact';}}).catch(function(errors){return console.log(errors);});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"body\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"team\"},/*#__PURE__*/React.createElement(\"form\",{id:\"formulaire\"},/*#__PURE__*/React.createElement(\"label\",{className:\"label-form\"},\"Nom\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"name\",className:\"input-form\",id:\"name\",placeholder:\"Votre nom...\",value:this.state.credentials.name,onChange:this.inputChanged})),/*#__PURE__*/React.createElement(\"label\",{className:\"label-form\"},/*#__PURE__*/React.createElement(\"br\",null),\"Email\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"email\",className:\"input-form\",id:\"email\",placeholder:\"Votre adresse email...\",value:this.state.credentials.email,onChange:this.inputChanged})),/*#__PURE__*/React.createElement(\"label\",{className:\"label-form\"},/*#__PURE__*/React.createElement(\"br\",null),\"Message\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"subject\",className:\"input-form\",id:\"subject\",placeholder:\"Votre message...\",value:this.state.subject,onChange:this.inputChanged}),/*#__PURE__*/React.createElement(\"br\",null)),this.state.alert,/*#__PURE__*/React.createElement(\"button\",{className:\"button-save\",onClick:this.sendMessage,to:\"/contact\"},\"Envoyer\")))),/*#__PURE__*/React.createElement(Footer,null));}}]);return Contact;}(React.Component);export default Contact;","map":{"version":3,"sources":["C:/Users/Christopher/Desktop/Projets/Azakana/frontend/src/components/Contact/Contact.js"],"names":["axios","React","useState","useEffect","Footer","BASE_URL","csrf_token","Contact","state","credentials","name","email","subject","alert","erreur","inputChanged","event","cred","target","value","setState","get","then","res","data","FormData","append","document","getElementById","post","window","location","catch","errors","console","log","sendMessage","Component"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React, { useState, useEffect } from 'react';\r\nimport Footer from '../Footer/Footer';\r\nimport './Contact.css';\r\n\r\nconst BASE_URL = 'http://azakana.fr/api/;'\r\nlet csrf_token = \"\";\r\n\r\nclass Contact extends React.Component{\r\n    componentDidMount() {\r\n        axios.get(BASE_URL+\"csrf_token/\")\r\n        .then(res =>{\r\n            csrf_token = res.data;\r\n        })\r\n    }\r\n\r\n    state = {\r\n        credentials: {name: '', email: '', subject: ''},\r\n        alert:'',\r\n        erreur:false,\r\n      \r\n    }\r\n    \r\n      inputChanged = event => {\r\n        const cred = this.state.credentials;\r\n        cred[event.target.name] = event.target.value;\r\n        this.setState({credentials: cred});\r\n      }\r\n    \r\n      \r\n    \r\n    sendMessage() {\r\n        let data = new FormData();\r\n        data.append(\"name\", document.getElementById('name').value);\r\n        data.append(\"email\", document.getElementById('email').value);\r\n        data.append(\"subject\", document.getElementById('subject').value);\r\n        data.append(\"csrfmiddlewaretoken\", csrf_token);\r\n        axios.post(BASE_URL+\"contact/\", data)\r\n        .then(res => {\r\n            if(res.data){\r\n                window.location ='/contact';\r\n            }\r\n        })\r\n        .catch(errors => console.log(errors))\r\n    \r\n    }\r\n      \r\n    \r\n      render(){\r\n      return (\r\n          <>\r\n          <body>\r\n        <div className=\"team\">\r\n\r\n          <form id=\"formulaire\">\r\n          <label className=\"label-form\">\r\n              Nom<br />\r\n              <input type=\"text\" name=\"name\" className=\"input-form\" id=\"name\" placeholder=\"Votre nom...\"\r\n               value={this.state.credentials.name}\r\n               onChange={this.inputChanged} />\r\n            </label>\r\n            <label className=\"label-form\"><br />\r\n              Email<br />\r\n              <input type=\"email\" name=\"email\" className=\"input-form\" id=\"email\" placeholder=\"Votre adresse email...\"\r\n               value={this.state.credentials.email}\r\n               onChange={this.inputChanged} />\r\n            </label>\r\n            <label className=\"label-form\"><br />\r\n              Message<br />\r\n              <input type=\"text\" name=\"subject\" className=\"input-form\" id=\"subject\" placeholder=\"Votre message...\"\r\n               value={this.state.subject}\r\n               onChange={this.inputChanged} /><br />\r\n            </label>\r\n            {this.state.alert}\r\n            <button className=\"button-save\" onClick={this.sendMessage} to='/contact'>Envoyer</button>\r\n            </form>\r\n        </div>\r\n        </body>\r\n        <Footer />\r\n        </>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Contact;"]},"metadata":{},"sourceType":"module"}