{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Christopher\\\\Desktop\\\\Projets\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Christopher\\\\Desktop\\\\Projets\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Christopher\\\\Desktop\\\\Projets\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Christopher\\\\Desktop\\\\Projets\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import axios from'axios';import React,{Component}from'react';import'./Member.css';var csrf_token=\"\";var user_id=0;var Member=/*#__PURE__*/function(_Component){_inherits(Member,_Component);var _super=_createSuper(Member);function Member(){_classCallCheck(this,Member);return _super.apply(this,arguments);}_createClass(Member,[{key:\"componentDidMount\",value:function componentDidMount(){axios.get(\"http://127.0.0.1:8000/api/csrf_token/\").then(function(res){csrf_token=res.data;});}},{key:\"addPlayer\",value:function addPlayer(){var pseudo=document.getElementById(\"input\").value;axios.get(\"http://127.0.0.1:8000/api/users/\"+pseudo).then(function(res){var data=res.data;user_id=data.id;});var data=new FormData();data.append(\"user_id\",user_id);data.append(\"team_name\",this.props.team);data.append(\"csrfmiddlewaretoken\",csrf_token);axios.post(\"http://127.0.0.1:8000/api/add_player/\",data).then(function(response){if(response.data){console.log(\"Joueur ajouté\");}}).catch(function(errors){return console.log(errors);});}},{key:\"removePlayer\",value:function removePlayer(){var data=new FormData();data.append(\"user_id\",user_id);data.append(\"team_name\",this.props.team);data.append(\"csrfmiddlewaretoke\",csrf_token);axios.put(\"http://127.0.0.1:8000/api/members/\",data).then(function(response){if(response.data){console.log(\"Joueur retiré\");}}).catch(function(errors){return console.log(errors);});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"team\"},/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"div\",{id:\"teamname\"},\"Equipe \",/*#__PURE__*/React.createElement(\"span\",{id:\"span\"},this.props.team)),/*#__PURE__*/React.createElement(\"div\",{id:\"teamChangerContent\"},/*#__PURE__*/React.createElement(\"input\",{id:\"input\",type:\"text\",name:\"player\",placeholder:\"Nom du joueur\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{id:\"addPlayer\",onClick:this.addPlayer},\"Ajouter joueur\"),/*#__PURE__*/React.createElement(\"button\",{id:\"removePlayer\",onClick:this.removePlayer},\"Retirer joueur\"),/*#__PURE__*/React.createElement(\"div\",{id:\"message\"}))));}}]);return Member;}(Component);export{Member as default};","map":{"version":3,"sources":["C:/Users/Christopher/Desktop/Projets/Azakana/frontend/src/components/Team/Member.js"],"names":["axios","React","Component","csrf_token","user_id","Member","get","then","res","data","pseudo","document","getElementById","value","id","FormData","append","props","team","post","response","console","log","catch","errors","put","addPlayer","removePlayer"],"mappings":"4sBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,cAAP,CAEA,GAAIC,CAAAA,UAAU,CAAG,EAAjB,CACA,GAAIC,CAAAA,OAAO,CAAG,CAAd,C,GAEqBC,CAAAA,M,wOAEjB,4BAAoB,CAChBL,KAAK,CAACM,GAAN,CAAU,uCAAV,EACCC,IADD,CACM,SAAAC,GAAG,CAAG,CACRL,UAAU,CAAGK,GAAG,CAACC,IAAjB,CACH,CAHD,EAIH,C,yBAED,oBAAY,CACR,GAAIC,CAAAA,MAAM,CAAGC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAA9C,CACAb,KAAK,CAACM,GAAN,CAAU,mCAAmCI,MAA7C,EACCH,IADD,CACM,SAAAC,GAAG,CAAI,CACT,GAAIC,CAAAA,IAAI,CAAGD,GAAG,CAACC,IAAf,CACAL,OAAO,CAAGK,IAAI,CAACK,EAAf,CACH,CAJD,EAKA,GAAIL,CAAAA,IAAI,CAAG,GAAIM,CAAAA,QAAJ,EAAX,CACAN,IAAI,CAACO,MAAL,CAAY,SAAZ,CAAuBZ,OAAvB,EACAK,IAAI,CAACO,MAAL,CAAY,WAAZ,CAAyB,KAAKC,KAAL,CAAWC,IAApC,EACAT,IAAI,CAACO,MAAL,CAAY,qBAAZ,CAAmCb,UAAnC,EACAH,KAAK,CAACmB,IAAN,CAAW,uCAAX,CAAoDV,IAApD,EACCF,IADD,CACM,SAAAa,QAAQ,CAAI,CACd,GAAGA,QAAQ,CAACX,IAAZ,CAAiB,CACbY,OAAO,CAACC,GAAR,CAAY,eAAZ,EACH,CACJ,CALD,EAMCC,KAND,CAMO,SAAAC,MAAM,QAAIH,CAAAA,OAAO,CAACC,GAAR,CAAYE,MAAZ,CAAJ,EANb,EAQH,C,4BAED,uBAAc,CACV,GAAIf,CAAAA,IAAI,CAAG,GAAIM,CAAAA,QAAJ,EAAX,CACAN,IAAI,CAACO,MAAL,CAAY,SAAZ,CAAuBZ,OAAvB,EACAK,IAAI,CAACO,MAAL,CAAY,WAAZ,CAAyB,KAAKC,KAAL,CAAWC,IAApC,EACAT,IAAI,CAACO,MAAL,CAAY,oBAAZ,CAAkCb,UAAlC,EACAH,KAAK,CAACyB,GAAN,CAAU,oCAAV,CAAgDhB,IAAhD,EACCF,IADD,CACM,SAAAa,QAAQ,CAAI,CACd,GAAGA,QAAQ,CAACX,IAAZ,CAAiB,CACbY,OAAO,CAACC,GAAR,CAAY,eAAZ,EACH,CACJ,CALD,EAMCC,KAND,CAMO,SAAAC,MAAM,QAAIH,CAAAA,OAAO,CAACC,GAAR,CAAYE,MAAZ,CAAJ,EANb,EAQH,C,sBAKD,iBAAS,CACL,mBACI,2BAAK,SAAS,CAAC,MAAf,eACI,2BAAK,SAAS,CAAC,SAAf,eACA,2BAAK,EAAE,CAAC,UAAR,yBACW,4BAAM,EAAE,CAAC,MAAT,EAAiB,KAAKP,KAAL,CAAWC,IAA5B,CADX,CADA,cAKA,2BAAK,EAAE,CAAC,oBAAR,eACI,6BAAO,EAAE,CAAC,OAAV,CAAkB,IAAI,CAAC,MAAvB,CAA8B,IAAI,CAAC,QAAnC,CAA6C,WAAW,CAAC,eAAzD,EADJ,cACqF,8BADrF,cAEI,8BAAQ,EAAE,CAAC,WAAX,CAAwB,OAAO,CAAE,KAAKQ,SAAtC,mBAFJ,cAGI,8BAAQ,EAAE,CAAC,cAAX,CAA0B,OAAO,CAAE,KAAKC,YAAxC,mBAHJ,cAIA,2BAAK,EAAE,CAAC,SAAR,EAJA,CALA,CADJ,CADJ,CAkBH,C,oBAnE+BzB,S,SAAfG,M","sourcesContent":["import axios from 'axios';\r\nimport React, { Component } from 'react'\r\nimport './Member.css';\r\n\r\nlet csrf_token = \"\";\r\nlet user_id = 0;\r\n\r\nexport default class Member extends Component {\r\n    \r\n    componentDidMount() {\r\n        axios.get(\"http://127.0.0.1:8000/api/csrf_token/\")\r\n        .then(res =>{\r\n            csrf_token = res.data;\r\n        })\r\n    }\r\n\r\n    addPlayer() {\r\n        let pseudo = document.getElementById(\"input\").value;\r\n        axios.get(\"http://127.0.0.1:8000/api/users/\"+pseudo)\r\n        .then(res => {\r\n            let data = res.data;\r\n            user_id = data.id;\r\n        })\r\n        let data = new FormData();\r\n        data.append(\"user_id\", user_id);\r\n        data.append(\"team_name\", this.props.team);\r\n        data.append(\"csrfmiddlewaretoken\", csrf_token);\r\n        axios.post(\"http://127.0.0.1:8000/api/add_player/\", data)\r\n        .then(response => {\r\n            if(response.data){\r\n                console.log(\"Joueur ajouté\");\r\n            }\r\n        })\r\n        .catch(errors => console.log(errors))\r\n\r\n    }\r\n\r\n    removePlayer(){\r\n        let data = new FormData();\r\n        data.append(\"user_id\", user_id);\r\n        data.append(\"team_name\", this.props.team);\r\n        data.append(\"csrfmiddlewaretoke\", csrf_token);\r\n        axios.put(\"http://127.0.0.1:8000/api/members/\", data)\r\n        .then(response => {\r\n            if(response.data){\r\n                console.log(\"Joueur retiré\");\r\n            }\r\n        })\r\n        .catch(errors => console.log(errors))\r\n\r\n    }\r\n\r\n\r\n   \r\n\r\n    render() {\r\n        return (\r\n            <div className='team'>\r\n                <div className='content'>\r\n                <div id=\"teamname\">\r\n                    Equipe <span id=\"span\">{this.props.team}</span>\r\n                </div>\r\n                \r\n                <div id=\"teamChangerContent\">\r\n                    <input id=\"input\" type=\"text\" name=\"player\"  placeholder=\"Nom du joueur\"></input><br />\r\n                    <button id=\"addPlayer\"  onClick={this.addPlayer}>Ajouter joueur</button>\r\n                    <button id=\"removePlayer\" onClick={this.removePlayer}>Retirer joueur</button>\r\n                <div id=\"message\">\r\n                    \r\n                </div>\r\n                </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}