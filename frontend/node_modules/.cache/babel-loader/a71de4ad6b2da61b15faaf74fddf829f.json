{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Simon Kinet\\\\Documents\\\\GitHub\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Simon Kinet\\\\Documents\\\\GitHub\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Simon Kinet\\\\Documents\\\\GitHub\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Simon Kinet\\\\Documents\\\\GitHub\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import'../../App.css';import Footer from'../Footer/Footer';import Cookies from'js-cookie';import Offline from'../Offline/Offline';import axios from'axios';var BASE_URL='http://127.0.0.1:8000/api/';//51.210.4.115:8000\nvar api_user=BASE_URL+'users/';var api_team=BASE_URL+'teams/';var team_name=String;var team_id=Number;var membres=[];var Team=/*#__PURE__*/function(_React$Component){_inherits(Team,_React$Component);var _super=_createSuper(Team);function Team(){var _this;_classCallCheck(this,Team);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={pseudo:Cookies.get('Pseudo'),token:Cookies.get('Token'),team:\"\"};return _this;}_createClass(Team,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(api_user+this.state.pseudo).then(function(res){team_id=res.data.team;if(team_id!=null)axios.get(api_team+team_id.toString()).then(function(res){team_name=res.data.name;_this2.setState({team:team_name});});});}},{key:\"handleClick\",value:function handleClick(){axios.get(api_user).then(function(res){var data=res.data;for(var i=0;i<data.length;i++){if(data[i].team==team_id){membres.push(data[i].username);}}});for(var j=0;j<membres.length;j++){document.getElementById('team').innerHTML+=membres[j]+\"<br>\";}}},{key:\"createTeam\",value:function createTeam(){var create_html='<label className=\"label-form\">Choisissez un nom d\\'équipe:<input type=\"text\" name=\"team_name\" /></label><button className=\"button-save\">Enregistrer</button>';document.getElementById('team').innerHTML=create_html;}},{key:\"joinTeam\",value:function joinTeam(){}},{key:\"render\",value:function render(){if(this.state.token){if(this.state.team!==\"\"){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"team\",id:\"team\"},\"Bienvenue \",this.state.pseudo,\" !\",/*#__PURE__*/React.createElement(\"br\",null),\"Membre de: \",this.state.team,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{className:\"btn-patch\",onClick:this.handleClick},\"Afficher les membres\"),/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(Footer,null));}else if(this.state.team===\"\"){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"team\",id:\"team\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Bienvenue dans la cr\\xE9ation d'\\xE9quipe,\",/*#__PURE__*/React.createElement(\"br\",null),this.state.pseudo,\" ! Vous n'appartenez pas encore \\xE0 une \\xE9quipe.\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{className:\"btn-patch\",onClick:this.createTeam},\"Cr\\xE9er une \\xE9quipe\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{className:\"btn-patch\",onClick:this.joinTeam},\"Rejoindre une \\xE9quipe\"))),/*#__PURE__*/React.createElement(Footer,null));}}else{return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"team\",id:\"team\"},/*#__PURE__*/React.createElement(Offline,null)),/*#__PURE__*/React.createElement(Footer,null));}}}]);return Team;}(React.Component);export default Team;","map":{"version":3,"sources":["C:/Users/Simon Kinet/Documents/GitHub/Azakana/frontend/src/components/pages/Team.js"],"names":["React","Footer","Cookies","Offline","axios","BASE_URL","api_user","api_team","team_name","String","team_id","Number","membres","Team","state","pseudo","get","token","team","then","res","data","toString","name","setState","i","length","push","username","j","document","getElementById","innerHTML","create_html","handleClick","createTeam","joinTeam","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport '../../App.css';\r\nimport Footer from '../Footer/Footer';\r\nimport Cookies from 'js-cookie';\r\nimport Offline from '../Offline/Offline'\r\nimport axios from 'axios';\r\n\r\nconst BASE_URL = 'http://127.0.0.1:8000/api/'//51.210.4.115:8000\r\nconst api_user = BASE_URL+'users/'\r\nconst api_team = BASE_URL+'teams/'\r\n\r\nlet team_name = String;\r\nlet team_id = Number;\r\nlet membres = [];\r\nclass Team extends React.Component {\r\n\r\n  state = {\r\n    pseudo: Cookies.get('Pseudo'),\r\n    token: Cookies.get('Token'),\r\n    team: \"\",\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios.get(api_user+this.state.pseudo)\r\n    .then(res => {\r\n      team_id = res.data.team;\r\n      if (team_id != null)\r\n        axios.get(api_team+team_id.toString())\r\n        .then(res =>{\r\n          team_name = res.data.name;\r\n          this.setState({\r\n            team: team_name\r\n          });\r\n        })\r\n    })\r\n  }\r\n\r\n  handleClick() {\r\n    axios.get(api_user)\r\n    .then(res =>{\r\n      let data = res.data;\r\n      for(let i=0; i<data.length;i++){\r\n        if(data[i].team == team_id){\r\n          membres.push(data[i].username);\r\n        }\r\n      }\r\n    })\r\n    for(let j=0;j<membres.length;j++){\r\n      document.getElementById('team').innerHTML += membres[j] + \"<br>\";\r\n    }\r\n  }\r\n\r\n  createTeam(){\r\n    let create_html = '<label className=\"label-form\">Choisissez un nom d\\'équipe:<input type=\"text\" name=\"team_name\" /></label><button className=\"button-save\">Enregistrer</button>'\r\n    document.getElementById('team').innerHTML = create_html;\r\n  }\r\n\r\n  joinTeam(){\r\n\r\n  }\r\n\r\n  render(){\r\n    if (this.state.token) {\r\n      if (this.state.team !== \"\") {\r\n        return(\r\n          <>\r\n            <div className=\"team\" id=\"team\">\r\n              Bienvenue {this.state.pseudo} !<br></br> \r\n              Membre de: {this.state.team}\r\n              <br></br>\r\n              <button className='btn-patch' onClick={this.handleClick}>Afficher les membres</button>\r\n              <br></br>\r\n            </div>\r\n            <Footer/>\r\n          </>\r\n        )\r\n      }else if (this.state.team === \"\") {\r\n        return(\r\n          <>\r\n            <div className=\"team\" id=\"team\">\r\n              <h3>\r\n                Bienvenue dans la création d'équipe,<br></br>  \r\n                {this.state.pseudo} ! Vous n'appartenez pas encore à une équipe.\r\n                <br></br>\r\n                <button className='btn-patch' onClick={this.createTeam}>Créer une équipe</button>\r\n                <br></br>\r\n                <button className='btn-patch' onClick={this.joinTeam}>Rejoindre une équipe</button>\r\n              </h3>\r\n            </div>\r\n            <Footer/>\r\n          </>\r\n        )\r\n      }\r\n    }else{\r\n      return (\r\n        <>\r\n          <div className=\"team\" id=\"team\"><Offline/></div>\r\n          <Footer/>\r\n        </>\r\n      )\r\n    }\r\n  }\r\n}\r\n export default Team;"]},"metadata":{},"sourceType":"module"}