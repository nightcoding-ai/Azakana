{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Simon Kinet\\\\Documents\\\\GitHub\\\\Azakana\\\\frontend\\\\src\\\\components\\\\Body_home\\\\Middle.js\";\nimport React from 'react';\nimport '../../App.css';\nimport './Middle.css';\nimport video from '../../tempfiles/yone-fanart-login-screen-animation-loop-league-of-legends.mp4';\nimport axios from 'axios';\nlet data = Object;\n\nclass Middle extends React.Component {\n  handleClick() {\n    let server_selected = document.getElementById('servers').value;\n    let summoner = document.getElementById('summoner').value;\n    let section = document.getElementById('profile');\n    let summonerId = String;\n    const RiotSummoner = '.api.riotgames.com/lol/summoner/v4/summoners/by-name/';\n    const RiotFlex = \".api.riotgames.com/lol/league/v4/entries/by-summoner/\";\n    const API_DEV = 'api_key=RGAPI-40181da0-06a9-4e9e-a3fb-eab55b4ec0e0';\n    const RiotHistory = \".api.riotgames.com/lol/match/v5/matches/by-puuid/\";\n    const RiotHistoryDetails = \".api.riotgames.com/lol/match/v4/matches/\";\n    const RiotMastery = '.api.riotgames.com/lol/champion-mastery/v4/champion-masteries/by-summoner/';\n    let summonerPuuid = String;\n    let history = [];\n    let idGames = [];\n    let infoGame = \"\";\n    let champName = \"\";\n    axios.get(`https://` + server_selected + RiotSummoner + summoner + '?' + API_DEV).then(res => {\n      data = res.data;\n      summonerId = res.data.id;\n      summonerPuuid = res.data.puuid;\n      summoner = res.data.name;\n      section.innerHTML = \"<div id='Level' class='level'>\" + String(data.summonerLevel) + \"</div><div id='summoner_name' class='summoner_name'>\" + String(data.name) + \"</div><div id='stats' class='stats'></div>\"; //return axios.get(`https://`+server_selected+RiotMastery+summonerId+API_DEV);\n\n      return axios.get(`https://` + server_selected + RiotFlex + summonerId + '?' + API_DEV);\n    }).then(res => {\n      //requête pour récupérer taux de victoire des parties classées\n      data = res.data;\n      const stats = document.getElementById('stats');\n\n      for (let i = 0; i < data.length; i++) {\n        if (data[i].queueType === \"RANKED_SOLO_5x5\") {\n          stats.innerHTML += \"Rang Solo/Duo: \" + data[i].tier + \" \" + data[i].rank + \"<br>\";\n          stats.innerHTML += \"Pourcentage de victoire: \" + Math.round(data[i].wins / (data[i].wins + data[i].losses) * 100) + \"%<br>\";\n          stats.innerHTML += \"Victoires:\" + String(data[i].wins) + \" /Défaites: \" + String(data[i].losses) + \"<br>\";\n        }\n\n        if (data[i].queueType === \"RANKED_FLEX_SR\") {\n          stats.innerHTML += \"Rang Flex: \" + data[i].tier + \" \" + data[i].rank + \"<br>\";\n          stats.innerHTML += \"Pourcentage de victoire: \" + Math.round(data[i].wins / (data[i].wins + data[i].losses) * 100) + \"%<br>\";\n          stats.innerHTML += \"Victoires:\" + String(data[i].wins) + \" /Défaites: \" + String(data[i].losses) + \"<br>\";\n        }\n\n        stats.innerHTML += \"<br>\";\n      }\n\n      return axios.get(`https://` + server_selected + RiotMastery + summonerId + \"?\" + API_DEV);\n    }).then(res => {\n      //requête points de maitrise champions\n      const stats = document.getElementById('stats');\n      stats.innerHTML += \"<H3>Top 3 des champions les plus joués :</H3>\";\n\n      for (let i = 0; i < 3; i++) {\n        stats.innerHTML += \"ID du champion : \" + String(res.data[i].championId) + \", points de maitrise : \" + String(res.data[i].championPoints) + \"<br>\";\n      }\n\n      stats.innerHTML += \"<br>\";\n      return axios.get(`https://europe` + RiotHistory + summonerPuuid + '/ids?start=0&count=10&' + API_DEV);\n    }).then(res => {\n      //requête pour remplir tableau history avec les id de parties\n      history = res.data;\n\n      for (let k = 0; k < history.length; k++) {\n        idGames.push(history[k].slice(5));\n      }\n\n      for (let l = 0; l < idGames.length; l++) {\n        axios.get(`https://` + server_selected + RiotHistoryDetails + idGames[l] + \"?\" + API_DEV).then(res => {\n          infoGame = res.data;\n          const stats = document.getElementById('stats');\n          stats.innerHTML += \"<br>\";\n          stats.innerHTML += infoGame.gameMode;\n          let min = Math.floor(infoGame.gameDuration / 60);\n          let sec = infoGame.gameDuration % 60;\n\n          if (sec < 10) {\n            stats.innerHTML += \" \" + min + \":0\" + sec;\n          } else {\n            stats.innerHTML += \" \" + min + \":\" + sec;\n          }\n\n          for (let i = 0; i < infoGame.participantIdentities.length; i++) {\n            if (infoGame.participantIdentities[i].player.summonerName === summoner) {\n              if (infoGame.participants[i].stats.win === true) {\n                stats.innerHTML += \" Victoire\" + \"<br>\";\n              } else {\n                stats.innerHTML += \" Défaite\" + \"<br>\";\n              }\n\n              stats.innerHTML += '<img src=\"http://ddragon.leagueoflegends.com/cdn/11.9.1/img/champion/Aatrox.png\">';\n              stats.innerHTML += infoGame.participants[i].stats.kills + \"/\" + infoGame.participants[i].stats.deaths + \"/\" + infoGame.participants[i].stats.assists + \"<br>\";\n            }\n          }\n        });\n      }\n    }).catch(error => {\n      section.innerHTML = \"<div id='stats' class='stats'>Cet utilisateur n'existe pas.<br>Veuillez vérifier le pseudo et/ou le serveur.</div>\";\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"mid\",\n      className: \"mid-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"video\", {\n      src: video,\n      autoPlay: true,\n      loop: true,\n      muted: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"search\",\n      id: \"search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      id: \"servers\",\n      className: \"servers\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"euw1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }, \"EUW\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"na1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, \"NA\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"euna1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }, \"EUNA\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"tr1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, \"TR\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"jp1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, \"JP\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"oc1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, \"OC\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"kr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, \"KR\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"ru\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }, \"RU\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"search\",\n      id: \"summoner\",\n      className: \"input\",\n      \"aria-label\": \"Search through site content\",\n      placeholder: \"Ton pseudo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleClick,\n      className: \"research\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    }, \"Rechercher\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"profile\",\n      className: \"profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default Middle;","map":{"version":3,"sources":["C:/Users/Simon Kinet/Documents/GitHub/Azakana/frontend/src/components/Body_home/Middle.js"],"names":["React","video","axios","data","Object","Middle","Component","handleClick","server_selected","document","getElementById","value","summoner","section","summonerId","String","RiotSummoner","RiotFlex","API_DEV","RiotHistory","RiotHistoryDetails","RiotMastery","summonerPuuid","history","idGames","infoGame","champName","get","then","res","id","puuid","name","innerHTML","summonerLevel","stats","i","length","queueType","tier","rank","Math","round","wins","losses","championId","championPoints","k","push","slice","l","gameMode","min","floor","gameDuration","sec","participantIdentities","player","summonerName","participants","win","kills","deaths","assists","catch","error","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport '../../App.css';\r\nimport './Middle.css';\r\nimport video from '../../tempfiles/yone-fanart-login-screen-animation-loop-league-of-legends.mp4'\r\nimport axios from 'axios';\r\n\r\nlet data = Object;\r\nclass Middle extends React.Component{\r\n\r\n  handleClick(){\r\n    let server_selected = document.getElementById('servers').value;\r\n    let summoner = document.getElementById('summoner').value;\r\n    let section = document.getElementById('profile');\r\n    let summonerId = String;\r\n    const RiotSummoner = '.api.riotgames.com/lol/summoner/v4/summoners/by-name/';\r\n    const RiotFlex = \".api.riotgames.com/lol/league/v4/entries/by-summoner/\";\r\n    const API_DEV = 'api_key=RGAPI-40181da0-06a9-4e9e-a3fb-eab55b4ec0e0';\r\n    const RiotHistory = \".api.riotgames.com/lol/match/v5/matches/by-puuid/\";\r\n    const RiotHistoryDetails = \".api.riotgames.com/lol/match/v4/matches/\";\r\n    const RiotMastery = '.api.riotgames.com/lol/champion-mastery/v4/champion-masteries/by-summoner/';\r\n    let summonerPuuid = String;\r\n    let history = [];\r\n    let idGames = [];\r\n    let infoGame = \"\";\r\n    let champName = \"\";\r\n\r\n\r\n    axios.get(`https://`+server_selected+RiotSummoner+summoner+'?'+API_DEV)\r\n      .then(res => {\r\n        data = res.data;\r\n        summonerId = res.data.id;\r\n        summonerPuuid = res.data.puuid;\r\n        summoner = res.data.name;\r\n        section.innerHTML = \"<div id='Level' class='level'>\"+String(data.summonerLevel)+\r\n        \"</div><div id='summoner_name' class='summoner_name'>\"+String(data.name)+\"</div><div id='stats' class='stats'></div>\";\r\n        //return axios.get(`https://`+server_selected+RiotMastery+summonerId+API_DEV);\r\n        return axios.get(`https://`+server_selected+RiotFlex+summonerId+'?'+API_DEV);\r\n        })\r\n      .then(res => {    //requête pour récupérer taux de victoire des parties classées\r\n        data = res.data;\r\n        const stats = document.getElementById('stats');\r\n        for (let i = 0; i < data.length; i++) {\r\n          if(data[i].queueType === \"RANKED_SOLO_5x5\"){\r\n            stats.innerHTML += \"Rang Solo/Duo: \" + data[i].tier + \" \" + data[i].rank + \"<br>\";\r\n            stats.innerHTML += \"Pourcentage de victoire: \"+ Math.round(data[i].wins/(data[i].wins+data[i].losses)*100)+\"%<br>\";\r\n            stats.innerHTML += \"Victoires:\"+ String(data[i].wins) + \" /Défaites: \" + String(data[i].losses)+\"<br>\";\r\n          }\r\n          if (data[i].queueType === \"RANKED_FLEX_SR\"){\r\n            stats.innerHTML += \"Rang Flex: \" + data[i].tier + \" \" + data[i].rank + \"<br>\";\r\n            stats.innerHTML += \"Pourcentage de victoire: \"+ Math.round(data[i].wins/(data[i].wins+data[i].losses)*100)+\"%<br>\";\r\n            stats.innerHTML += \"Victoires:\"+ String(data[i].wins) + \" /Défaites: \" + String(data[i].losses)+\"<br>\";\r\n          }\r\n\r\n          stats.innerHTML += \"<br>\";\r\n        }\r\n        return axios.get(`https://`+server_selected+RiotMastery+summonerId+ \"?\" + API_DEV);\r\n        })\r\n      .then( res => {   //requête points de maitrise champions\r\n        const stats = document.getElementById('stats');\r\n        stats.innerHTML += \"<H3>Top 3 des champions les plus joués :</H3>\"\r\n        for (let i = 0; i < 3; i++) {\r\n          stats.innerHTML += \"ID du champion : \" + String(res.data[i].championId) +\", points de maitrise : \"+ String(res.data[i].championPoints) +\"<br>\";\r\n\r\n        }\r\n        stats.innerHTML += \"<br>\";\r\n        return axios.get(`https://europe`+RiotHistory+summonerPuuid+'/ids?start=0&count=10&'+API_DEV)\r\n        })\r\n      .then(res => {    //requête pour remplir tableau history avec les id de parties\r\n        history = res.data;\r\n        for(let k = 0; k < history.length; k ++){\r\n          idGames.push(history[k].slice(5));\r\n        }\r\n        for(let l = 0; l < idGames.length; l ++){\r\n          axios.get(`https://`+ server_selected + RiotHistoryDetails + idGames[l] + \"?\" + API_DEV)\r\n            .then(res => {\r\n              infoGame = res.data;\r\n              const stats = document.getElementById('stats');\r\n              stats.innerHTML += \"<br>\";\r\n              stats.innerHTML += infoGame.gameMode;\r\n              let min = Math.floor(infoGame.gameDuration / 60);\r\n              let sec = infoGame.gameDuration % 60;\r\n              if(sec < 10){\r\n                stats.innerHTML += \" \" + min + \":0\" + sec;\r\n              }\r\n              else{\r\n                  stats.innerHTML += \" \" + min + \":\" + sec;\r\n\r\n              }\r\n              for(let i = 0; i < infoGame.participantIdentities.length; i ++){\r\n                if(infoGame.participantIdentities[i].player.summonerName === summoner){\r\n                  if(infoGame.participants[i].stats.win === true){\r\n                    stats.innerHTML += \" Victoire\" + \"<br>\";\r\n                  }else{\r\n                    stats.innerHTML += \" Défaite\" + \"<br>\";\r\n\r\n                  }\r\n                  stats.innerHTML += '<img src=\"http://ddragon.leagueoflegends.com/cdn/11.9.1/img/champion/Aatrox.png\">';\r\n                  stats.innerHTML += infoGame.participants[i].stats.kills + \"/\"\r\n                                  + infoGame.participants[i].stats.deaths + \"/\"\r\n                                  + infoGame.participants[i].stats.assists + \"<br>\";\r\n\r\n                }\r\n              }\r\n\r\n            })\r\n          }\r\n        })\r\n      .catch(error => {\r\n        section.innerHTML = \"<div id='stats' class='stats'>Cet utilisateur n'existe pas.<br>Veuillez vérifier le pseudo et/ou le serveur.</div>\";\r\n      })\r\n    }\r\n\r\n\r\n  render(){\r\n    return (\r\n      <div id='mid' className='mid-container'>\r\n        <video src={video} autoPlay loop muted/>\r\n        <div className=\"search\" id=\"search\">\r\n            <select id='servers' className=\"servers\">\r\n                <option value=\"euw1\">EUW</option>\r\n                <option value=\"na1\">NA</option>\r\n                <option value=\"euna1\">EUNA</option>\r\n                <option value=\"tr1\">TR</option>\r\n                <option value=\"jp1\">JP</option>\r\n                <option value=\"oc1\">OC</option>\r\n                <option value=\"kr\">KR</option>\r\n                <option value=\"ru\">RU</option>\r\n            </select>\r\n\r\n            <input\r\n                type=\"search\"\r\n                id=\"summoner\"\r\n                className=\"input\"\r\n                aria-label=\"Search through site content\"\r\n                placeholder='Ton pseudo'\r\n               />\r\n\r\n            <button onClick={this.handleClick}  className=\"research\">Rechercher</button>\r\n        </div>\r\n        <div id='profile' className='profile'></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Middle;\r\n"]},"metadata":{},"sourceType":"module"}