{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Christopher\\\\Desktop\\\\Projets\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Christopher\\\\Desktop\\\\Projets\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Christopher\\\\Desktop\\\\Projets\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Christopher\\\\Desktop\\\\Projets\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./Register.css\";import{Link}from'react-router-dom';var Register=/*#__PURE__*/function(_Component){_inherits(Register,_Component);var _super=_createSuper(Register);function Register(){var _this;_classCallCheck(this,Register);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={credentials:{username:'',password1:'',password2:'',email:''},alert:'',erreur:false};_this.inputChanged=function(event){var cred=_this.state.credentials;cred[event.target.name]=event.target.value;_this.setState({credentials:cred});};_this.register=function(event){if(_this.state.credentials.password1==''||_this.state.credentials.password2==''||_this.state.credentials.username==''||_this.state.credentials.email==''){_this.setState({alert:/*#__PURE__*/React.createElement(\"p\",{id:\"alert\"},\"Veuillez remplir tous les champs\")});}else{if(_this.state.credentials.password1==_this.state.credentials.password2){if(_this.state.credentials.password1.length>8){fetch('https://azakana.fr/api/rest-auth/registration/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(_this.state.credentials)}).catch(function(error){if(error==true){var err=document.getElementById('alert').innerText;err=\"Ce nom d'utilisateur ou l'adresse email existe déjà\";}});}else{_this.setState({alert:/*#__PURE__*/React.createElement(\"p\",{id:\"alert\"},\"Mot de passe trop court\")});}}else{_this.setState({alert:/*#__PURE__*/React.createElement(\"p\",{id:\"alert\"},\"Veuillez confirmer le mot de passe\")});}}};return _this;}_createClass(Register,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"register\"},/*#__PURE__*/React.createElement(\"label\",{className:\"label-form\"},\"Nom d'utilisateur\",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"username\",className:\"input-form\",value:this.state.credentials.user_name,onChange:this.inputChanged})),/*#__PURE__*/React.createElement(\"label\",{className:\"label-form\"},\"Mot de passe\",/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password1\",className:\"input-form\",value:this.state.credentials.password1,onChange:this.inputChanged})),/*#__PURE__*/React.createElement(\"label\",{className:\"label-form\"},\"Confirmation mot de passe\",/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password2\",className:\"input-form\",value:this.state.password2,onChange:this.inputChanged})),/*#__PURE__*/React.createElement(\"label\",{className:\"label-form\"},\"Adresse email\",/*#__PURE__*/React.createElement(\"input\",{type:\"mail\",name:\"email\",className:\"input-form\",value:this.state.credentials.email,onChange:this.inputChanged})),this.state.alert,/*#__PURE__*/React.createElement(\"span\",{id:\"alert\"}),/*#__PURE__*/React.createElement(\"button\",{className:\"button-save\",onClick:this.register,to:\"/sign-in\"},\"Enregistrer\"));}}]);return Register;}(Component);export default Register;","map":{"version":3,"sources":["C:/Users/Christopher/Desktop/Projets/Azakana/frontend/src/components/Register/Register.js"],"names":["React","Component","Link","Register","state","credentials","username","password1","password2","email","alert","erreur","inputChanged","event","cred","target","name","value","setState","register","length","fetch","method","headers","body","JSON","stringify","catch","error","err","document","getElementById","innerText","user_name"],"mappings":"4sBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAgC,OAAhC,CACA,MAAO,gBAAP,CACA,OAASC,IAAT,KAAqB,kBAArB,C,GACMC,CAAAA,Q,mUACJC,K,CAAQ,CACNC,WAAW,CAAE,CAACC,QAAQ,CAAE,EAAX,CAAeC,SAAS,CAAE,EAA1B,CAA6BC,SAAS,CAAC,EAAvC,CAA2CC,KAAK,CAAE,EAAlD,CADP,CAENC,KAAK,CAAC,EAFA,CAGNC,MAAM,CAAC,KAHD,C,OAMRC,Y,CAAe,SAAAC,KAAK,CAAI,CACtB,GAAMC,CAAAA,IAAI,CAAG,MAAKV,KAAL,CAAWC,WAAxB,CACAS,IAAI,CAACD,KAAK,CAACE,MAAN,CAAaC,IAAd,CAAJ,CAA0BH,KAAK,CAACE,MAAN,CAAaE,KAAvC,CACA,MAAKC,QAAL,CAAc,CAACb,WAAW,CAAES,IAAd,CAAd,EACD,C,OAIDK,Q,CAAW,SAAAN,KAAK,CAAI,CAClB,GAAG,MAAKT,KAAL,CAAWC,WAAX,CAAuBE,SAAvB,EAAmC,EAAnC,EAAyC,MAAKH,KAAL,CAAWC,WAAX,CAAuBG,SAAvB,EAAmC,EAA5E,EAAkF,MAAKJ,KAAL,CAAWC,WAAX,CAAuBC,QAAvB,EAAkC,EAApH,EAAyH,MAAKF,KAAL,CAAWC,WAAX,CAAuBI,KAAvB,EAA+B,EAA3J,CAA8J,CAC5J,MAAKS,QAAL,CAAc,CAACR,KAAK,cAAE,yBAAG,EAAE,CAAC,OAAN,qCAAR,CAAd,EACD,CAFD,IAEK,CACH,GAAG,MAAKN,KAAL,CAAWC,WAAX,CAAuBE,SAAvB,EAAoC,MAAKH,KAAL,CAAWC,WAAX,CAAuBG,SAA9D,CAAwE,CACtE,GAAG,MAAKJ,KAAL,CAAWC,WAAX,CAAuBE,SAAvB,CAAiCa,MAAjC,CAA0C,CAA7C,CAA+C,CAC7CC,KAAK,CAAC,gDAAD,CAAmD,CACtDC,MAAM,CAAE,MAD8C,CAEtDC,OAAO,CAAE,CAAC,eAAgB,kBAAjB,CAF6C,CAGtDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,MAAKtB,KAAL,CAAWC,WAA1B,CAHgD,CAAnD,CAAL,CAKCsB,KALD,CAKQ,SAAAC,KAAK,CAAI,CACf,GAAGA,KAAK,EAAI,IAAZ,CAAiB,CACf,GAAIC,CAAAA,GAAG,CAAGC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,SAA3C,CACAH,GAAG,CAAG,qDAAN,CACD,CACF,CAVD,EAYD,CAbD,IAaK,CACH,MAAKX,QAAL,CAAc,CAACR,KAAK,cAAE,yBAAG,EAAE,CAAC,OAAN,4BAAR,CAAd,EACD,CACF,CAjBD,IAiBK,CACH,MAAKQ,QAAL,CAAc,CAACR,KAAK,cAAE,yBAAG,EAAE,CAAC,OAAN,uCAAR,CAAd,EACD,CACF,CACA,C,0DAEH,iBAAQ,CACR,mBACE,2BAAK,SAAS,CAAC,UAAf,eACE,6BAAO,SAAS,CAAC,YAAjB,mCAEI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,UAAxB,CAAmC,SAAS,CAAC,YAA7C,CACC,KAAK,CAAE,KAAKN,KAAL,CAAWC,WAAX,CAAuB4B,SAD/B,CAEC,QAAQ,CAAE,KAAKrB,YAFhB,EAFJ,CADF,cAOI,6BAAO,SAAS,CAAC,YAAjB,8BAEE,6BAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,WAA5B,CAAwC,SAAS,CAAC,YAAlD,CACC,KAAK,CAAE,KAAKR,KAAL,CAAWC,WAAX,CAAuBE,SAD/B,CAEC,QAAQ,CAAE,KAAKK,YAFhB,EAFF,CAPJ,cAaI,6BAAO,SAAS,CAAC,YAAjB,2CAEE,6BAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,WAA5B,CAAwC,SAAS,CAAC,YAAlD,CACC,KAAK,CAAE,KAAKR,KAAL,CAAWI,SADnB,CAEC,QAAQ,CAAE,KAAKI,YAFhB,EAFF,CAbJ,cAmBI,6BAAO,SAAS,CAAC,YAAjB,+BAEE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,OAAxB,CAAgC,SAAS,CAAC,YAA1C,CACC,KAAK,CAAE,KAAKR,KAAL,CAAWC,WAAX,CAAuBI,KAD/B,CAEC,QAAQ,CAAE,KAAKG,YAFhB,EAFF,CAnBJ,CAyBK,KAAKR,KAAL,CAAWM,KAzBhB,cA0BI,4BAAM,EAAE,CAAC,OAAT,EA1BJ,cA2BI,8BAAQ,SAAS,CAAC,aAAlB,CAAgC,OAAO,CAAE,KAAKS,QAA9C,CAAwD,EAAE,CAAC,UAA3D,gBA3BJ,CADF,CAgCC,C,sBA3EoBlB,S,EA6EvB,cAAeE,CAAAA,QAAf","sourcesContent":["import React, { Component} from \"react\";\r\nimport \"./Register.css\";\r\nimport { Link } from 'react-router-dom';\r\nclass Register extends Component {\r\n  state = {\r\n    credentials: {username: '', password1: '',password2:'', email: ''},\r\n    alert:'',\r\n    erreur:false,\r\n  }\r\n\r\n  inputChanged = event => {\r\n    const cred = this.state.credentials;\r\n    cred[event.target.name] = event.target.value;\r\n    this.setState({credentials: cred});\r\n  }\r\n\r\n  \r\n\r\n  register = event => {\r\n    if(this.state.credentials.password1 =='' || this.state.credentials.password2 =='' || this.state.credentials.username ==''|| this.state.credentials.email ==''){\r\n      this.setState({alert: <p id='alert'>Veuillez remplir tous les champs</p>})\r\n    }else{\r\n      if(this.state.credentials.password1 == this.state.credentials.password2){\r\n        if(this.state.credentials.password1.length > 8){\r\n          fetch('https://azakana.fr/api/rest-auth/registration/', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify(this.state.credentials),\r\n          })\r\n          .catch( error => {\r\n            if(error == true){\r\n              let err = document.getElementById('alert').innerText;\r\n              err = \"Ce nom d'utilisateur ou l'adresse email existe déjà\";\r\n            }\r\n          })\r\n          \r\n        }else{\r\n          this.setState({alert: <p id='alert'>Mot de passe trop court</p>})\r\n        }\r\n      }else{\r\n        this.setState({alert: <p id='alert'>Veuillez confirmer le mot de passe</p>})\r\n      }\r\n    }\r\n    }\r\n\r\n  render(){\r\n  return (\r\n    <div className=\"register\">\r\n      <label className=\"label-form\">\r\n          Nom d'utilisateur\r\n          <input type=\"text\" name=\"username\" className=\"input-form\"\r\n           value={this.state.credentials.user_name}\r\n           onChange={this.inputChanged} />\r\n        </label>\r\n        <label className=\"label-form\">\r\n          Mot de passe\r\n          <input type=\"password\" name=\"password1\" className=\"input-form\"\r\n           value={this.state.credentials.password1}\r\n           onChange={this.inputChanged} />\r\n        </label>\r\n        <label className=\"label-form\">\r\n          Confirmation mot de passe\r\n          <input type=\"password\" name=\"password2\" className=\"input-form\"\r\n           value={this.state.password2}\r\n           onChange={this.inputChanged} />\r\n        </label>\r\n        <label className=\"label-form\">\r\n          Adresse email\r\n          <input type=\"mail\" name=\"email\" className=\"input-form\"\r\n           value={this.state.credentials.email}\r\n           onChange={this.inputChanged} />\r\n        </label>\r\n        {this.state.alert}\r\n        <span id='alert'></span>\r\n        <button className=\"button-save\" onClick={this.register} to='/sign-in'>Enregistrer</button>\r\n    </div>\r\n\r\n  );\r\n  }\r\n}\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}