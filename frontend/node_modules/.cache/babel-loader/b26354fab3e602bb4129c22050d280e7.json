{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\simon\\\\Documents\\\\GitHub\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\simon\\\\Documents\\\\GitHub\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\simon\\\\Documents\\\\GitHub\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\simon\\\\Documents\\\\GitHub\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import axios from'axios';import React,{useState,useEffect}from'react';import Footer from'../Footer/Footer';import'./Contact.css';var csrf_token=\"\";var Contact=/*#__PURE__*/function(_React$Component){_inherits(Contact,_React$Component);var _super=_createSuper(Contact);function Contact(){var _this;_classCallCheck(this,Contact);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={credentials:{name:'',email:'',subject:''},alert:'',erreur:false};_this.inputChanged=function(event){var cred=_this.state.credentials;cred[event.target.name]=event.target.value;_this.setState({credentials:cred});};return _this;}_createClass(Contact,[{key:\"componentDidMount\",value:function componentDidMount(){axios.get(\"http://127.0.0.1:8000/api/csrf_token/\").then(function(res){csrf_token=res.data;});}},{key:\"sendMessage\",value:function sendMessage(){var data=this.state.credentials;data.append(\"csrfmiddlewaretoken\",csrf_token);axios.post(\"http://127.0.0.1:8000/api/contact/\",data).then(function(res){if(res.data){window.location='/contact';}}).catch(function(errors){return console.log(errors);});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"team\"},/*#__PURE__*/React.createElement(\"label\",{className:\"label-form\"},\"Nom\",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"name\",className:\"input-form\",value:this.state.credentials.name,onChange:this.inputChanged})),/*#__PURE__*/React.createElement(\"label\",{className:\"label-form\"},\"Email\",/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"email\",className:\"input-form\",value:this.state.credentials.email,onChange:this.inputChanged})),/*#__PURE__*/React.createElement(\"label\",{className:\"label-form\"},\"Message\",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"subject\",className:\"input-form\",value:this.state.subject,onChange:this.inputChanged})),this.state.alert,/*#__PURE__*/React.createElement(\"button\",{className:\"button-save\",onClick:this.sendMessage(),to:\"/contact\"},\"Envoyer\")),/*#__PURE__*/React.createElement(Footer,null));}}]);return Contact;}(React.Component);export default Contact;","map":{"version":3,"sources":["C:/Users/simon/Documents/GitHub/Azakana/frontend/src/components/Contact/Contact.js"],"names":["axios","React","useState","useEffect","Footer","csrf_token","Contact","state","credentials","name","email","subject","alert","erreur","inputChanged","event","cred","target","value","setState","get","then","res","data","append","post","window","location","catch","errors","console","log","sendMessage","Component"],"mappings":"wrBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAO,eAAP,CAGA,GAAIC,CAAAA,UAAU,CAAG,EAAjB,C,GAEMC,CAAAA,O,2UAQFC,K,CAAQ,CACJC,WAAW,CAAE,CAACC,IAAI,CAAE,EAAP,CAAWC,KAAK,CAAE,EAAlB,CAAsBC,OAAO,CAAE,EAA/B,CADT,CAEJC,KAAK,CAAC,EAFF,CAGJC,MAAM,CAAC,KAHH,C,OAONC,Y,CAAe,SAAAC,KAAK,CAAI,CACtB,GAAMC,CAAAA,IAAI,CAAG,MAAKT,KAAL,CAAWC,WAAxB,CACAQ,IAAI,CAACD,KAAK,CAACE,MAAN,CAAaR,IAAd,CAAJ,CAA0BM,KAAK,CAACE,MAAN,CAAaC,KAAvC,CACA,MAAKC,QAAL,CAAc,CAACX,WAAW,CAAEQ,IAAd,CAAd,EACD,C,oEAlBH,4BAAoB,CAChBhB,KAAK,CAACoB,GAAN,CAAU,uCAAV,EACCC,IADD,CACM,SAAAC,GAAG,CAAG,CACRjB,UAAU,CAAGiB,GAAG,CAACC,IAAjB,CACH,CAHD,EAIH,C,2BAiBD,sBAAc,CACV,GAAIA,CAAAA,IAAI,CAAG,KAAKhB,KAAL,CAAWC,WAAtB,CACAe,IAAI,CAACC,MAAL,CAAY,qBAAZ,CAAmCnB,UAAnC,EACAL,KAAK,CAACyB,IAAN,CAAW,oCAAX,CAAiDF,IAAjD,EACCF,IADD,CACM,SAAAC,GAAG,CAAI,CACT,GAAGA,GAAG,CAACC,IAAP,CAAY,CACRG,MAAM,CAACC,QAAP,CAAiB,UAAjB,CACH,CACJ,CALD,EAMCC,KAND,CAMO,SAAAC,MAAM,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ,CAAJ,EANb,EAQH,C,sBAGC,iBAAQ,CACR,mBACI,qDACF,2BAAK,SAAS,CAAC,MAAf,eACE,6BAAO,SAAS,CAAC,YAAjB,qBAEI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,MAAxB,CAA+B,SAAS,CAAC,YAAzC,CACC,KAAK,CAAE,KAAKtB,KAAL,CAAWC,WAAX,CAAuBC,IAD/B,CAEC,QAAQ,CAAE,KAAKK,YAFhB,EAFJ,CADF,cAOI,6BAAO,SAAS,CAAC,YAAjB,uBAEE,6BAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,OAAzB,CAAiC,SAAS,CAAC,YAA3C,CACC,KAAK,CAAE,KAAKP,KAAL,CAAWC,WAAX,CAAuBE,KAD/B,CAEC,QAAQ,CAAE,KAAKI,YAFhB,EAFF,CAPJ,cAaI,6BAAO,SAAS,CAAC,YAAjB,yBAEE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,SAAxB,CAAkC,SAAS,CAAC,YAA5C,CACC,KAAK,CAAE,KAAKP,KAAL,CAAWI,OADnB,CAEC,QAAQ,CAAE,KAAKG,YAFhB,EAFF,CAbJ,CAmBK,KAAKP,KAAL,CAAWK,KAnBhB,cAoBI,8BAAQ,SAAS,CAAC,aAAlB,CAAgC,OAAO,CAAE,KAAKoB,WAAL,EAAzC,CAA6D,EAAE,CAAC,UAAhE,YApBJ,CADE,cAwBF,oBAAC,MAAD,MAxBE,CADJ,CA4BD,C,qBAlEiB/B,KAAK,CAACgC,S,EAsE5B,cAAe3B,CAAAA,OAAf","sourcesContent":["import axios from 'axios';\r\nimport React, { useState, useEffect } from 'react';\r\nimport Footer from '../Footer/Footer';\r\nimport './Contact.css';\r\n\r\n\r\nlet csrf_token = \"\";\r\n\r\nclass Contact extends React.Component{\r\n    componentDidMount() {\r\n        axios.get(\"http://127.0.0.1:8000/api/csrf_token/\")\r\n        .then(res =>{\r\n            csrf_token = res.data;\r\n        })\r\n    }\r\n\r\n    state = {\r\n        credentials: {name: '', email: '', subject: ''},\r\n        alert:'',\r\n        erreur:false,\r\n      \r\n    }\r\n    \r\n      inputChanged = event => {\r\n        const cred = this.state.credentials;\r\n        cred[event.target.name] = event.target.value;\r\n        this.setState({credentials: cred});\r\n      }\r\n    \r\n      \r\n    \r\n    sendMessage() {\r\n        let data = this.state.credentials;\r\n        data.append(\"csrfmiddlewaretoken\", csrf_token);\r\n        axios.post(\"http://127.0.0.1:8000/api/contact/\", data)\r\n        .then(res => {\r\n            if(res.data){\r\n                window.location ='/contact';\r\n            }\r\n        })\r\n        .catch(errors => console.log(errors))\r\n    \r\n    }\r\n      \r\n    \r\n      render(){\r\n      return (\r\n          <>\r\n        <div className=\"team\">\r\n          <label className=\"label-form\">\r\n              Nom\r\n              <input type=\"text\" name=\"name\" className=\"input-form\" \r\n               value={this.state.credentials.name}\r\n               onChange={this.inputChanged} />\r\n            </label>\r\n            <label className=\"label-form\">\r\n              Email\r\n              <input type=\"email\" name=\"email\" className=\"input-form\" \r\n               value={this.state.credentials.email}\r\n               onChange={this.inputChanged} />\r\n            </label>\r\n            <label className=\"label-form\">\r\n              Message\r\n              <input type=\"text\" name=\"subject\" className=\"input-form\" \r\n               value={this.state.subject}\r\n               onChange={this.inputChanged} />\r\n            </label>\r\n            {this.state.alert}\r\n            <button className=\"button-save\" onClick={this.sendMessage()} to='/contact'>Envoyer</button>\r\n    \r\n        </div>\r\n        <Footer />\r\n        </>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Contact;"]},"metadata":{},"sourceType":"module"}