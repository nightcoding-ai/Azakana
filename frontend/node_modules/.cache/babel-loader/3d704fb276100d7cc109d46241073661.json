{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\simon\\\\Documents\\\\GitHub\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\simon\\\\Documents\\\\GitHub\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\simon\\\\Documents\\\\GitHub\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\simon\\\\Documents\\\\GitHub\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import axios from'axios';import React,{useState,useEffect}from'react';import Footer from'../Footer/Footer';var csrf_token=\"\";var Contact=/*#__PURE__*/function(_React$Component){_inherits(Contact,_React$Component);var _super=_createSuper(Contact);function Contact(){_classCallCheck(this,Contact);return _super.apply(this,arguments);}_createClass(Contact,[{key:\"componentDidMount\",value:function componentDidMount(){axios.get(\"http://127.0.0.1:8000/api/csrf_token/\").then(function(res){csrf_token=res.data;});}},{key:\"sendMessage\",value:function sendMessage(){var data=new FormData();data.append(\"name\",document.getElementById('fname').value);data.append(\"email\",document.getElementById('email').value);data.append(\"subject\",document.getElementById('subject').value);data.append(\"csrfmiddlewaretoken\",csrf_token);console.log(data);axios.post('http://127.0.0.1:8000/api/contact/',data).then(function(res){if(res.data){window.location='/team';}}).catch(function(errors){return console.log(errors);});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"team\"},/*#__PURE__*/React.createElement(\"form\",{className:\"formulaireContact\"},/*#__PURE__*/React.createElement(\"label\",{for:\"fname\"},\"Votre nom\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"fname\",className:\"formulaireContact\",placeholder:\"Nom\",name:\"name\"}),/*#__PURE__*/React.createElement(\"label\",{for:\"emailField\"},\"Votre adresse email\"),/*#__PURE__*/React.createElement(\"input\",{className:\"formulaireContact\",\"aria-describedby\":\"email\",name:\"email\",id:\"fmail\",placeholder:\"Email\"}),/*#__PURE__*/React.createElement(\"label\",{for:\"textField\"},\"Votre message\"),/*#__PURE__*/React.createElement(\"input\",{className:\"formulaireContact\",id:\"subject\",name:\"subject\",placeholder:\"Message...\"}),/*#__PURE__*/React.createElement(\"button\",{className:\"button-on\",onClick:this.sendMessage},\"Envoyer\"))),/*#__PURE__*/React.createElement(Footer,null));}}]);return Contact;}(React.Component);export default Contact;","map":{"version":3,"sources":["C:/Users/simon/Documents/GitHub/Azakana/frontend/src/components/Contact/Contact.js"],"names":["axios","React","useState","useEffect","Footer","csrf_token","Contact","get","then","res","data","FormData","append","document","getElementById","value","console","log","post","window","location","catch","errors","sendMessage","Component"],"mappings":"wrBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CAGA,GAAIC,CAAAA,UAAU,CAAG,EAAjB,C,GAEMC,CAAAA,O,yPAEF,4BAAoB,CAChBN,KAAK,CAACO,GAAN,CAAU,uCAAV,EACCC,IADD,CACM,SAAAC,GAAG,CAAG,CACRJ,UAAU,CAAGI,GAAG,CAACC,IAAjB,CACH,CAHD,EAIH,C,2BAGD,sBAAc,CAEV,GAAIA,CAAAA,IAAI,CAAG,GAAIC,CAAAA,QAAJ,EAAX,CACAD,IAAI,CAACE,MAAL,CAAY,MAAZ,CAAoBC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAArD,EACAL,IAAI,CAACE,MAAL,CAAY,OAAZ,CAAqBC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAAtD,EACAL,IAAI,CAACE,MAAL,CAAY,SAAZ,CAAuBC,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,KAA1D,EACAL,IAAI,CAACE,MAAL,CAAY,qBAAZ,CAAmCP,UAAnC,EACAW,OAAO,CAACC,GAAR,CAAYP,IAAZ,EACAV,KAAK,CAACkB,IAAN,CAAW,oCAAX,CAAiDR,IAAjD,EACCF,IADD,CACM,SAAAC,GAAG,CAAI,CACL,GAAGA,GAAG,CAACC,IAAP,CAAY,CACRS,MAAM,CAACC,QAAP,CAAiB,OAAjB,CACH,CACJ,CALL,EAMKC,KANL,CAMW,SAAAC,MAAM,QAAIN,CAAAA,OAAO,CAACC,GAAR,CAAYK,MAAZ,CAAJ,EANjB,EAQH,C,sBAMD,iBAAQ,CACJ,mBACI,qDACA,2BAAK,SAAS,CAAC,MAAf,eACI,4BAAM,SAAS,CAAC,mBAAhB,eAEI,6BAAO,GAAG,CAAC,OAAX,cAFJ,cAGI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,OAAtB,CAA8B,SAAS,CAAC,mBAAxC,CAA4D,WAAW,CAAC,KAAxE,CAA8E,IAAI,CAAC,MAAnF,EAHJ,cAKI,6BAAO,GAAG,CAAC,YAAX,wBALJ,cAMI,6BAAO,SAAS,CAAC,mBAAjB,CAAqC,mBAAiB,OAAtD,CAA8D,IAAI,CAAC,OAAnE,CAA2E,EAAE,CAAC,OAA9E,CAAsF,WAAW,CAAC,OAAlG,EANJ,cAQI,6BAAO,GAAG,CAAC,WAAX,kBARJ,cASI,6BAAO,SAAS,CAAC,mBAAjB,CAAqC,EAAE,CAAC,SAAxC,CAAkD,IAAI,CAAC,SAAvD,CAAiE,WAAW,CAAC,YAA7E,EATJ,cAWI,8BAAQ,SAAS,CAAC,WAAlB,CAA8B,OAAO,CAAE,KAAKC,WAA5C,YAXJ,CADJ,CADA,cAmBA,oBAAC,MAAD,MAnBA,CADJ,CAuBH,C,qBAxDiBtB,KAAK,CAACuB,S,EA4D5B,cAAelB,CAAAA,OAAf","sourcesContent":["import axios from 'axios';\r\nimport React, { useState, useEffect } from 'react';\r\nimport Footer from '../Footer/Footer';\r\n\r\n\r\nlet csrf_token = \"\";\r\n\r\nclass Contact extends React.Component{\r\n\r\n    componentDidMount() {\r\n        axios.get(\"http://127.0.0.1:8000/api/csrf_token/\")\r\n        .then(res =>{\r\n            csrf_token = res.data;\r\n        })\r\n    }\r\n \r\n\r\n    sendMessage() {\r\n\r\n        let data = new FormData();\r\n        data.append(\"name\", document.getElementById('fname').value);\r\n        data.append(\"email\", document.getElementById('email').value);\r\n        data.append(\"subject\", document.getElementById('subject').value);\r\n        data.append(\"csrfmiddlewaretoken\", csrf_token);\r\n        console.log(data);\r\n        axios.post('http://127.0.0.1:8000/api/contact/', data)\r\n        .then(res => {\r\n                if(res.data){\r\n                    window.location ='/team';\r\n                }\r\n            })\r\n            .catch(errors => console.log(errors))\r\n    \r\n    }\r\n    \r\n\r\n\r\n    \r\n\r\n    render(){\r\n        return(\r\n            <>\r\n            <div className=\"team\">\r\n                <form className=\"formulaireContact\">\r\n\r\n                    <label for=\"fname\">Votre nom</label>\r\n                    <input type=\"text\" id=\"fname\" className=\"formulaireContact\" placeholder=\"Nom\" name=\"name\"></input>\r\n\r\n                    <label for=\"emailField\">Votre adresse email</label>\r\n                    <input className=\"formulaireContact\" aria-describedby=\"email\" name=\"email\" id=\"fmail\" placeholder=\"Email\" ></input>\r\n\r\n                    <label for=\"textField\">Votre message</label>\r\n                    <input className=\"formulaireContact\" id=\"subject\" name=\"subject\" placeholder=\"Message...\" ></input>\r\n\r\n                    <button className=\"button-on\" onClick={this.sendMessage}>Envoyer</button>\r\n\r\n                </form>\r\n            \r\n            \r\n            </div>\r\n            <Footer />\r\n            </>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Contact;"]},"metadata":{},"sourceType":"module"}