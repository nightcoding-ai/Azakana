{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Christopher\\\\Desktop\\\\Projets\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Christopher\\\\Desktop\\\\Projets\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Christopher\\\\Desktop\\\\Projets\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Christopher\\\\Desktop\\\\Projets\\\\Azakana\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import axios from'axios';import React,{Component}from'react';import'./Member.css';var csrf_token=\"\";var BASE_URL='http://127.0.0.1:8000/api/';//51.210.4.115:8000\nvar api_user=BASE_URL+'users/';var api_members=BASE_URL+'members/';var Member=/*#__PURE__*/function(_Component){_inherits(Member,_Component);var _super=_createSuper(Member);function Member(){var _this;_classCallCheck(this,Member);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={user_id:0};return _this;}_createClass(Member,[{key:\"componentDidMount\",value:function componentDidMount(){axios.get(\"http://127.0.0.1:8000/api/csrf_token/\").then(function(res){csrf_token=res.data;});}},{key:\"addPlayer\",value:function addPlayer(){var _this2=this;var pseudo=document.getElementById(\"input\").value;axios.get(api_user+pseudo).then(function(res){var data=res.data;_this2.setState({user_id:data});});var data=new FormData();data.append(\"user_id\",this.state.user_id);data.append(\"team_name\",document.getElementById('span').innerText);data.append(\"csrfmiddlewaretoken\",csrf_token);axios.post(\"http://127.0.0.1:8000/api/add_player/\",data).then(function(response){if(response.data){console.log(\"Joueur ajouté\");}}).catch(function(errors){return console.log(errors);});}},{key:\"removePlayer\",value:function removePlayer(){var data=new FormData();data.append(\"user_id\",this.state.user_id);data.append(\"team_name\",this.props.team);data.append(\"csrfmiddlewaretoken\",csrf_token);axios.put(api_members,data).then(function(response){if(response.data){console.log(\"Joueur retiré\");}}).catch(function(errors){return console.log(errors);});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"team\"},/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"div\",{id:\"teamname\"},\"Equipe \",/*#__PURE__*/React.createElement(\"span\",{id:\"span\"},this.props.team)),/*#__PURE__*/React.createElement(\"div\",{id:\"teamChangerContent\"},/*#__PURE__*/React.createElement(\"input\",{id:\"input\",type:\"text\",name:\"player\",placeholder:\"Nom du joueur\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{id:\"addPlayer\",onClick:this.addPlayer},\"Ajouter joueur\"),/*#__PURE__*/React.createElement(\"button\",{id:\"removePlayer\",onClick:this.removePlayer},\"Retirer joueur\"),/*#__PURE__*/React.createElement(\"div\",{id:\"message\"}))));}}]);return Member;}(Component);export{Member as default};","map":{"version":3,"sources":["C:/Users/Christopher/Desktop/Projets/Azakana/frontend/src/components/Team/Member.js"],"names":["axios","React","Component","csrf_token","BASE_URL","api_user","api_members","Member","state","user_id","get","then","res","data","pseudo","document","getElementById","value","setState","FormData","append","innerText","post","response","console","log","catch","errors","props","team","put","addPlayer","removePlayer"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React, { Component } from 'react';\r\nimport './Member.css';\r\n\r\nlet csrf_token = \"\";\r\nconst BASE_URL = 'http://127.0.0.1:8000/api/';//51.210.4.115:8000\r\nconst api_user = BASE_URL+'users/';\r\nconst api_members = BASE_URL+'members/';\r\n\r\nexport default class Member extends Component {\r\n\r\n    state = {\r\n        user_id: 0,\r\n      }\r\n\r\n    componentDidMount() {\r\n        axios.get(\"http://127.0.0.1:8000/api/csrf_token/\")\r\n        .then(res =>{\r\n            csrf_token = res.data;\r\n        })\r\n\r\n    }\r\n\r\n    addPlayer() {\r\n        let pseudo = document.getElementById(\"input\").value;\r\n        axios.get(api_user+pseudo)\r\n        .then(res => {\r\n            let data = res.data;\r\n            this.setState({\r\n                user_id:data\r\n            })\r\n        })\r\n        let data = new FormData();\r\n        data.append(\"user_id\", this.state.user_id);\r\n        data.append(\"team_name\", document.getElementById('span').innerText);\r\n        data.append(\"csrfmiddlewaretoken\", csrf_token);\r\n        axios.post(\"http://127.0.0.1:8000/api/add_player/\", data)\r\n        .then(response => {\r\n            if(response.data){\r\n                console.log(\"Joueur ajouté\");\r\n            }\r\n        })\r\n        .catch(errors => console.log(errors))\r\n\r\n    }\r\n\r\n    removePlayer(){\r\n        let data = new FormData();\r\n        data.append(\"user_id\", this.state.user_id);\r\n        data.append(\"team_name\", this.props.team);\r\n        data.append(\"csrfmiddlewaretoken\", csrf_token);\r\n        axios.put(api_members, data)\r\n        .then(response => {\r\n            if(response.data){\r\n                console.log(\"Joueur retiré\");\r\n            }\r\n        })\r\n        .catch(errors => console.log(errors))\r\n\r\n    }\r\n\r\n\r\n   \r\n\r\n    render() {\r\n        return (\r\n            <div className='team'>\r\n                <div className='content'>\r\n                <div id=\"teamname\">\r\n                    Equipe <span id=\"span\">{this.props.team}</span>\r\n                </div>\r\n                \r\n                <div id=\"teamChangerContent\">\r\n                    <input id=\"input\" type=\"text\" name=\"player\"  placeholder=\"Nom du joueur\"></input>\r\n                    <br></br>\r\n                    <button id=\"addPlayer\"  onClick={this.addPlayer}>Ajouter joueur</button>\r\n                    <button id=\"removePlayer\" onClick={this.removePlayer}>Retirer joueur</button>\r\n                <div id=\"message\">\r\n                    \r\n                </div>\r\n                </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}